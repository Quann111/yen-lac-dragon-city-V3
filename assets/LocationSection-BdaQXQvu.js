import{j as e}from"./index-O5i4Jj5y.js";import{g as L,r as o}from"./vendor-BPwQdSG7.js";import{g as b}from"./animations-CB87Sc6I.js";import{S}from"./ScrollTrigger-Cv03IO65.js";import{r as I}from"./maps-jBRwKcs2.js";import{S as C,k as A,X as E,l as P,G as w,m as R,L as B,T as D,n as H,B as j}from"./icons-BqvEiFL8.js";var M=I();const i=L(M),O="/yen-lac-dragon-city-V3/assets/Location_image_optimized-Cee0I3eW.webp";b.registerPlugin(S);const Y=({icon:l,title:d,time:n,isActive:c,onClick:u})=>e.jsxs("div",{onClick:u,className:`location-card flex items-center gap-4 p-5 rounded-2xl shadow-lg border-l-4 transition-all duration-300 hover:transform hover:translate-x-2 cursor-pointer
    ${c?"bg-royal-50 border-royal-600 shadow-xl scale-105":"bg-white border-royal-500 hover:shadow-xl"} text-royal-900 font-body`,children:[e.jsx("div",{className:`p-3 rounded-full transition-colors duration-300
      ${c?"bg-royal-600 text-white":"bg-royal-100 text-royal-600"}`,children:l}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm md:text-base leading-tight",children:d}),e.jsx("p",{className:"text-xs mt-1 transition-colors text-gray-500",children:n})]})]}),f=[21.2333964,105.5689985],T=[{id:8,title:"Trường THPT Yên Lạc",displayTitle:e.jsxs(e.Fragment,{children:["Trường THPT",e.jsx("br",{}),"Yên Lạc"]}),time:"1 phút di chuyển",coords:[21.234309,105.568033],icon:e.jsx(w,{size:22})},{id:5,title:"Bệnh viện đa khoa",time:"1 phút di chuyển",coords:[21.232,105.57],icon:e.jsx(R,{size:22})},{id:2,title:"Trường THCS CLC",displayTitle:e.jsxs(e.Fragment,{children:["Trường THCS",e.jsx("br",{}),"Chất Lượng Cao"]}),time:"2 phút di chuyển",coords:[21.22963,105.564999],icon:e.jsx(w,{size:22})},{id:4,title:"Quảng Trường",time:"2 phút di chuyển",coords:[21.235,105.572],icon:e.jsx(B,{size:22})},{id:6,title:"Sân Vận Động",time:"2 phút di chuyển",coords:[21.235,105.572],icon:e.jsx(D,{size:22})},{id:3,title:"Công An Huyện",time:"2 phút di chuyển",coords:[21.2345,105.5735],icon:e.jsx(H,{size:22})},{id:1,title:"UBND Huyện Yên Lạc",displayTitle:e.jsxs(e.Fragment,{children:["UBND Huyện",e.jsx("br",{}),"Yên Lạc"]}),time:"2 phút di chuyển",coords:[21.23418,105.574001],icon:e.jsx(j,{size:22})},{id:9,title:"Đảng Ủy Yên Lạc",time:"3 phút di chuyển",coords:[21.2338,105.5745],icon:e.jsx(j,{size:22})},{id:7,title:"Chợ TT. Yên Lạc",time:"3 phút di chuyển",coords:[21.233,105.575],icon:e.jsx(C,{size:22})}],q=()=>{const l=o.useRef(null),d=o.useRef(null),n=o.useRef(null),c=o.useRef(null),u=o.useRef(null),[p,N]=o.useState(null),[a,h]=o.useState(!1),[m,v]=o.useState(!1),x=t=>{if(n.current){const s=n.current;c.current||(c.current=i.layerGroup().addTo(s));const r=c.current;r.clearLayers();const g=i.divIcon({className:"dest-pin",html:`<div style="
          background-color: #ef4444; 
          width: 20px; 
          height: 20px; 
          border-radius: 50%; 
          border: 3px solid white; 
          box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        "></div>`,iconSize:[20,20],iconAnchor:[10,10]});i.marker(t.coords,{icon:g}).addTo(r).bindPopup(`<div class="text-center font-bold text-sm">${t.title}<br/><span class="text-gray-500 font-normal">${t.time}</span></div>`).openPopup();const y=[f,t.coords];i.polyline(y,{color:"#D4AF37",weight:4,opacity:.8,dashArray:"10, 10",lineCap:"round"}).addTo(r),s.fitBounds(i.latLngBounds(y),{padding:[50,50],maxZoom:16,animate:!0,duration:1})}},z=t=>{N(t.id),v(!0),window.innerWidth<1024?(h(!0),setTimeout(()=>{var s;(s=n.current)==null||s.invalidateSize(),x(t)},300)):x(t)},k=()=>{var t;(t=document.getElementById("collection"))==null||t.scrollIntoView({behavior:"smooth"}),window.history.pushState(null,"","/yen-lac-dragon-city-V3/#collection"),window.dispatchEvent(new CustomEvent("nav-change",{detail:"collection"}))};return o.useEffect(()=>{if(!m||!d.current||n.current)return;const t=i.map(d.current,{center:f,zoom:16,scrollWheelZoom:!0,zoomControl:!1,attributionControl:!1});i.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(t);const s=i.divIcon({className:"custom-pin",html:`<div style="
        background-color: #D4AF37; 
        width: 30px; 
        height: 30px; 
        border-radius: 50% 50% 0 50%; 
        transform: rotate(45deg);
        border: 3px solid white; 
        box-shadow: 0 4px 10px rgba(0,0,0,0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        ">
        <div style="
          width: 10px; 
          height: 10px; 
          background-color: white; 
          border-radius: 50%;
        "></div>
      </div>`,iconSize:[30,30],iconAnchor:[15,30],popupAnchor:[0,-30]});if(i.marker(f,{icon:s}).addTo(t).bindPopup('<div class="text-center"><b class="text-royal-600">Yên Lạc Dragon City</b><br/><span class="text-xs text-gray-600">Tâm điểm thịnh vượng</span></div>').openPopup(),n.current=t,p){const r=T.find(g=>g.id===p);r&&x(r)}return()=>{t.remove(),n.current=null}},[m]),o.useEffect(()=>{const t=b.context(()=>{l.current&&b.fromTo(l.current,{opacity:0,scale:.95,filter:"blur(10px)"},{opacity:1,scale:1,filter:"blur(0px)",duration:1.5,ease:"power3.out",scrollTrigger:{trigger:l.current,start:"top 70%"}})},l);return()=>t.revert()},[]),o.useEffect(()=>{const t=new IntersectionObserver(s=>{s.forEach(r=>{r.isIntersecting&&(r.target.classList.add("is-visible"),t.unobserve(r.target))})},{threshold:.1});return u.current&&u.current.querySelectorAll(".reveal-on-scroll").forEach(r=>t.observe(r)),()=>t.disconnect()},[]),e.jsx("section",{ref:u,className:"relative w-full overflow-hidden transition-colors duration-500 bg-white",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row h-full items-center",children:[e.jsxs("div",{className:"w-full lg:w-1/2 py-16 px-8 lg:pl-16 flex flex-col justify-center relative z-10",children:[e.jsxs("h2",{className:`text-lg md:text-2xl lg:text-3xl font-body font-bold mb-6 leading-tight transition-colors duration-300 reveal-on-scroll\r
      text-royal-600 uppercase`,children:["Vị Thế Kim Cương: ",e.jsx("br",{})," Nơi Giá Trị Hội Tụ"]}),e.jsx("p",{className:`font-body mb-10 leading-relaxed transition-colors duration-300 reveal-on-scroll\r
              text-gray-600 [text-wrap:pretty]`,children:"Tọa lạc tại tâm điểm thịnh vượng, kết nối mọi tiện ích sống, làm việc và giải trí. Một vị trí chiến lược, đảm bảo cuộc sống tiện nghi và tiềm năng đầu tư vượt trội."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 mb-10",children:T.map(t=>e.jsx(Y,{icon:t.icon,title:t.displayTitle||t.title,time:t.time,isActive:p===t.id,onClick:()=>z(t)},t.id))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 reveal-on-scroll",children:[e.jsxs("button",{onClick:k,className:`btn-luxury flex items-center justify-center px-10 py-4 rounded-full uppercase tracking-widest font-body font-bold text-sm shadow-lg transform hover:-translate-y-1 transition-all duration-300\r
                bg-royal-600 text-white hover:bg-royal-700 hover:shadow-royal-500/50`,children:[e.jsx(C,{size:18,className:"mr-2"}),"Sản Phẩm"]}),e.jsxs("a",{href:"https://www.google.com/maps/dir/?api=1&destination=21.245444,105.722583",target:"_blank",rel:"noopener noreferrer",className:`btn-luxury flex items-center justify-center gap-2 px-10 py-4 rounded-full uppercase tracking-widest font-body font-bold text-sm shadow-lg transform hover:-translate-y-1 transition-all duration-300\r
                bg-white text-royal-600 border border-royal-600 hover:bg-royal-50 hover:shadow-md`,children:[e.jsx(A,{size:18}),"Chỉ đường"]})]})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 backdrop-blur-sm transition-opacity",onClick:()=>h(!1)}),e.jsxs("div",{ref:l,className:`transition-all duration-500 shadow-2xl overflow-hidden bg-gray-200
              ${a?"fixed top-1/2 left-1/2 w-[90vw] h-[60vh] rounded-2xl border-4 border-white":"w-full lg:w-1/2 h-[400px] lg:h-[500px] relative rounded-2xl z-0"}
            `,style:{transform:a?"translate(-50%, -50%)":void 0,zIndex:a?50:void 0,opacity:a?1:void 0,filter:a?"none":void 0},children:[a&&e.jsx("button",{onClick:t=>{t.stopPropagation(),h(!1)},className:"absolute top-2 right-2 z-[1000] p-2 bg-white rounded-full shadow-lg text-gray-800 hover:bg-gray-100 transition-colors",children:e.jsx(E,{size:20})}),m?e.jsx("div",{ref:d,className:"w-full h-full z-0",style:{filter:"grayscale(0.1)"}}):e.jsxs("div",{className:"w-full h-full relative group cursor-pointer",onClick:()=>v(!0),children:[e.jsx("img",{src:O,alt:"Bản đồ vị trí",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsxs("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors duration-300 flex flex-col items-center justify-center text-white",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-md p-4 rounded-full border border-white/50 mb-3 group-hover:scale-110 transition-transform duration-300",children:e.jsx(P,{size:32})}),e.jsx("span",{className:"font-bold text-lg uppercase tracking-wider drop-shadow-md",children:"Xem bản đồ"})]})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none border-[10px] border-white/50 shadow-inner z-10"})]})]})})})};export{q as default};
